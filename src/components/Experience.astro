---
const experiences = [
  {
    company: "Grupo MasOrange",
    role: "Senior Software Engineer",
    project: "Provision Squad",
    period: "January 2024 - Present",
    current: true,
    description: "Developing software systems for provisioning telecommunications services including connectivity, TV, and mobile offerings",
    achievements: [
      "Building high-performance provisioning systems with Java 21 and Vert.x reactive framework",
      "Implementing event-driven architectures using Kafka for real-time service activation",
      "Orchestrating complex workflows with Uber Cadence for reliable service provisioning",
      "Working with Google Cloud (BigQuery, Cloud Storage) for data analytics and storage",
      "Using Bazel for efficient build management and OpenAPI for service integration",
      "Leveraging AI tools (GitHub Copilot, Claude Code) to boost development productivity"
    ],
    tags: ["Java 21", "Vert.x", "Kafka", "Kubernetes", "Uber Cadence", "Google Cloud", "Bazel", "OpenAPI"]
  },
  {
    company: "BBVA Next Technologies",
    role: "Software Architect",
    project: "LRBA Project",
    period: "March 2020 - January 2024",
    current: false,
    description: "Leading architecture design for ETL functionalities handling massive data volumes",
    achievements: [
      "Designed Spark-based architecture on Kubernetes for processing huge amounts of data",
      "Integrated multiple data systems: Oracle, DB2, MongoDB, ElasticSearch, S3, HDFS",
      "Simplified batch process development, enabling non-Spark experts to build applications",
      "Implemented CI/CD pipelines using Jenkins, Maven, and Git",
      "Tech stack: Java, Python, Go, Apache Spark"
    ],
    tags: ["Apache Spark", "Kubernetes", "ETL", "Java", "Python", "CI/CD"]
  },
  {
    company: "BBVA Next Technologies",
    role: "Software Architect",
    project: "APX Project",
    period: "June 2018 - March 2020",
    current: false,
    description: "Maintained and evolved critical banking architecture handling 80% of total transactions",
    achievements: [
      "Supported architecture processing 80% of bank's total transactions",
      "Provided utilities, libraries, and connectors for SQL and NoSQL databases",
      "Migrated to microservices architecture using gRPC for service communication",
      "Deployed on Docker containers managed by OpenShift and Kubernetes",
      "Built on OSGI standard with comprehensive CI/CD integration"
    ],
    tags: ["Microservices", "gRPC", "OSGI", "OpenShift", "MongoDB", "Oracle"]
  },
  {
    company: "Odilo",
    role: "Full Stack Developer",
    project: "Microservices Platform",
    period: "March 2014 - June 2018",
    current: false,
    description: "Architected and developed microservices-based applications",
    achievements: [
      "Built applications using Java with Spring Boot and Spring Data",
      "Developed frontend interfaces with AngularJS",
      "Worked with multiple database technologies and AWS services",
      "Implemented full agile workflow with daily standups and code reviews",
      "Used JIRA kanban boards for project management"
    ],
    tags: ["Spring Boot", "AngularJS", "AWS", "Microservices", "Agile"]
  }
];
---

<section id="experience" class="section experience-section">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">Professional Experience</h2>
      <p class="section-subtitle">
        Over 10 years building enterprise-scale solutions for leading companies
      </p>
    </div>

    <div class="timeline">
      {experiences.map((exp, index) => (
        <div class="timeline-item fade-in" style={`animation-delay: ${index * 0.15}s;`}>
          <div class="timeline-marker">
            <div class="timeline-dot"></div>
            {index < experiences.length - 1 && <div class="timeline-line"></div>}
          </div>

          <div class="experience-card">
            {exp.current && (
              <div class="current-badge">
                <span class="pulse"></span>
                Current
              </div>
            )}

            <div class="exp-header">
              <div class="exp-title-section">
                <h3 class="exp-role">{exp.role}</h3>
                <div class="exp-company">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
                    <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
                  </svg>
                  <span>{exp.company}</span>
                </div>
                <div class="exp-project">{exp.project}</div>
              </div>
              <div class="exp-period">{exp.period}</div>
            </div>

            <p class="exp-description">{exp.description}</p>

            <ul class="exp-achievements">
              {exp.achievements.map((achievement) => (
                <li>
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="9 11 12 14 22 4"></polyline>
                    <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
                  </svg>
                  <span>{achievement}</span>
                </li>
              ))}
            </ul>

            <div class="exp-tags">
              {exp.tags.map((tag) => (
                <span class="exp-tag">{tag}</span>
              ))}
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  .experience-section {
    background: linear-gradient(180deg, transparent 0%, var(--color-bg-secondary) 50%, transparent 100%);
  }

  .timeline {
    max-width: 900px;
    margin: 0 auto;
    position: relative;
  }

  .timeline-item {
    display: grid;
    grid-template-columns: 40px 1fr;
    gap: var(--spacing-lg);
    margin-bottom: var(--spacing-2xl);
  }

  .timeline-item:last-child {
    margin-bottom: 0;
  }

  .timeline-marker {
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
  }

  .timeline-dot {
    width: 16px;
    height: 16px;
    background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
    border-radius: 50%;
    border: 3px solid var(--color-bg);
    box-shadow: 0 0 0 3px var(--color-bg-secondary);
    position: relative;
    z-index: 2;
  }

  .timeline-line {
    width: 2px;
    flex: 1;
    background: linear-gradient(180deg, var(--color-border), transparent);
    margin-top: var(--spacing-sm);
  }

  .experience-card {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius);
    padding: var(--spacing-lg);
    transition: var(--transition);
    position: relative;
  }

  .experience-card:hover {
    transform: translateX(5px);
    border-color: var(--color-primary);
    box-shadow: 0 10px 40px rgba(59, 130, 246, 0.15);
  }

  .current-badge {
    position: absolute;
    top: var(--spacing-md);
    right: var(--spacing-md);
    background: var(--color-primary);
    color: white;
    padding: 0.375rem 0.75rem;
    border-radius: 6px;
    font-size: 0.75rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .pulse {
    width: 8px;
    height: 8px;
    background: white;
    border-radius: 50%;
    animation: pulse 2s ease-in-out infinite;
  }

  @keyframes pulse {
    0%, 100% {
      opacity: 1;
      transform: scale(1);
    }
    50% {
      opacity: 0.5;
      transform: scale(1.2);
    }
  }

  .exp-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-md);
    padding-right: 120px;
  }

  .exp-title-section {
    flex: 1;
  }

  .exp-role {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--color-text);
    margin-bottom: var(--spacing-xs);
  }

  .exp-company {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--color-primary);
    font-size: 1.125rem;
    font-weight: 500;
    margin-bottom: 0.25rem;
  }

  .exp-company svg {
    flex-shrink: 0;
  }

  .exp-project {
    color: var(--color-text-secondary);
    font-size: 0.95rem;
  }

  .exp-period {
    color: var(--color-text-muted);
    font-size: 0.875rem;
    font-family: var(--font-mono);
    white-space: nowrap;
  }

  .exp-description {
    color: var(--color-text-secondary);
    line-height: 1.6;
    margin-bottom: var(--spacing-md);
  }

  .exp-achievements {
    list-style: none;
    margin-bottom: var(--spacing-md);
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm);
  }

  .exp-achievements li {
    display: flex;
    gap: var(--spacing-sm);
    color: var(--color-text-secondary);
    line-height: 1.6;
  }

  .exp-achievements svg {
    flex-shrink: 0;
    margin-top: 0.2rem;
    color: var(--color-primary);
  }

  .exp-tags {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-xs);
  }

  .exp-tag {
    background: var(--color-bg-tertiary);
    color: var(--color-text-secondary);
    padding: 0.25rem 0.625rem;
    border-radius: 4px;
    font-size: 0.75rem;
    border: 1px solid var(--color-border);
    transition: var(--transition);
  }

  .exp-tag:hover {
    background: var(--color-primary);
    color: white;
    border-color: var(--color-primary);
  }

  /* Responsive */
  @media (max-width: 768px) {
    .timeline-item {
      grid-template-columns: 30px 1fr;
      gap: var(--spacing-md);
    }

    .exp-header {
      flex-direction: column;
      padding-right: 0;
    }

    .exp-period {
      white-space: normal;
    }

    .current-badge {
      position: static;
      width: fit-content;
      margin-bottom: var(--spacing-md);
    }

    .experience-card {
      padding: var(--spacing-md);
    }

    .exp-role {
      font-size: 1.25rem;
    }
  }
</style>
